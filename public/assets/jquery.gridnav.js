(function(a){jQuery.fn.reverse=Array.prototype.reverse;var b={},c={setup:function(e,f,g){e.css("position","relative"),c.saveInitialPosition(f),f.each(function(b){var c=a(this);c.css({position:"absolute",left:c.data("left"),top:c.data("top")})});var h=Math.floor(e.width()/f.width()),i=h*g.rows,j=Math.ceil(f.length/h);b.totalRows=j,b.rowCount=h,b.shownItems=i,e.children(":gt("+(i-1)+")").hide(),f.each(function(b){var c=a(this),d=Math.ceil((b+1)/h);c.addClass("projects-slider-row_"+d)}),d.setup(e,f,g)},saveInitialPosition:function(b){b.each(function(b){var c=a(this);c.data({left:c.position().left+"px",top:c.position().top+"px"})})}},d={setup:function(a,b,c){d[c.type.mode].setup(a,b,c)},def:{setup:function(c,d,e){d.each(function(c){var f=a(this),g=Math.ceil((c+1)/b.rowCount),h,i=g%e.rows;i===1?h="0px":i===0?h=(e.rows-1)*d.height()+"px":h=(i-1)*d.height()+"px",f.css({top:h})})},pagination:function(c,d,e){if(d===1&&b.currentRow+e.rows>b.totalRows||d===-1&&b.currentRow-e.rows<=0)return c.data("anim",!1),!1;var f="",g="";for(var h=0;h<e.rows;++h)f+=".projects-slider-row_"+(b.currentRow+h)+",",d===1?g+=".projects-slider-row_"+(b.currentRow+e.rows+h)+",":g+=".projects-slider-row_"+(b.currentRow-1-h)+",";c.children(f).hide(),c.children(g).show(),d===1?b.currentRow+=e.rows:b.currentRow-=e.rows,c.data("anim",!1),b.currentRow===1?(a(e.navL).addClass("disabled"),a(e.navR).removeClass("disabled")):b.totalRows-1===b.currentRow?(a(e.navR).addClass("disabled"),a(e.navL).removeClass("disabled")):(a(e.navR).removeClass("disabled"),a(e.navL).removeClass("disabled"))}},fade:{setup:function(a,b,c){d.def.setup(a,b,c)},pagination:function(c,d,e){if(d===1&&b.currentRow+e.rows>b.totalRows||d===-1&&b.currentRow-e.rows<=0)return c.data("anim",!1),!1;var f="",g="";for(var h=0;h<e.rows;++h)f+=".projects-slider-row_"+(b.currentRow+h)+",",d===1?g+=".projects-slider-row_"+(b.currentRow+e.rows+h)+",":g+=".projects-slider-row_"+(b.currentRow-1-h)+",";c.children(f).fadeOut(e.type.speed,e.type.easing);var i=c.children(g),j=i.length,k=0;i.fadeIn(e.type.speed,e.type.easing,function(){++k,k===j&&c.data("anim",!1)}),d===1?b.currentRow+=e.rows:b.currentRow-=e.rows,b.currentRow===1?(a(e.navL).addClass("disabled"),a(e.navR).removeClass("disabled")):b.totalRows-1===b.currentRow?(a(e.navR).addClass("disabled"),a(e.navL).removeClass("disabled")):(a(e.navR).removeClass("disabled"),a(e.navL).removeClass("disabled"))}},seqfade:{setup:function(a,b,c){d.def.setup(a,b,c)},pagination:function(c,d,e){if(d===1&&b.currentRow+e.rows>b.totalRows||d===-1&&b.currentRow-e.rows<=0)return c.data("anim",!1),!1;var f="",g="";for(var h=0;h<e.rows;++h)f+=".projects-slider-row_"+(b.currentRow+h)+",",d===1?g+=".projects-slider-row_"+(b.currentRow+e.rows+h)+",":g+=".projects-slider-row_"+(b.currentRow-1-h)+",";var i=e.type.factor,j;d===1?j=c.children(f):j=c.children(f).reverse(),j.each(function(b){var c=a(this);setTimeout(function(){c.fadeOut(e.type.speed,e.type.easing)},i+b*i)});var k;d===1?k=c.children(g):k=c.children(g).reverse();var l=k.length,m=0;k.each(function(b){var d=a(this);setTimeout(function(){d.fadeIn(e.type.speed,e.type.easing,function(){++m,m===l&&c.data("anim",!1)})},i*2+b*i)}),d===1?b.currentRow+=e.rows:b.currentRow-=e.rows,b.currentRow===1?(a(e.navL).addClass("disabled"),a(e.navR).removeClass("disabled")):b.totalRows-1===b.currentRow?(a(e.navR).addClass("disabled"),a(e.navL).removeClass("disabled")):(a(e.navR).removeClass("disabled"),a(e.navL).removeClass("disabled"))}},updown:{setup:function(c,d,e){c.children(":gt("+(b.shownItems-1)+")").css("opacity",0),d.each(function(c){var f=a(this),g=Math.ceil((c+1)/b.rowCount),h=f.position().top,i=g%e.rows;g>e.rows&&(h=e.rows*d.height()),f.css({top:h+"px"})})},pagination:function(c,d,e){if(d===1&&b.currentRow+e.rows>b.totalRows||d===-1&&b.currentRow-1<=0)return c.data("anim",!1),!1;var f="";for(var g=0;g<=e.rows;++g)d===1?f+=".projects-slider-row_"+(b.currentRow+g)+",":f+=".projects-slider-row_"+(b.currentRow+(g-1))+",";var h;d===1?h=c.children(f):h=c.children(f).reverse();var i=h.length,j=0;h.each(function(f){var g=a(this),h=g.attr("class"),k={},l=b.currentRow;d===1?h==="projects-slider-row_"+l?k.opacity=0:h==="projects-slider-row_"+(l+e.rows)&&(k.opacity=1):h==="projects-slider-row_"+(l-1)?k.opacity=1:h==="projects-slider-row_"+(l+e.rows-1)&&(k.opacity=0),g.show(),d===1?k.top=g.position().top-g.height()+"px":k.top=g.position().top+g.height()+"px",g.stop().animate(k,e.type.speed,e.type.easing,function(){(parseInt(k.top)<0||parseInt(k.top)>g.height()*(e.rows-1))&&g.hide(),++j,j===i&&c.data("anim",!1)})}),d===1?b.currentRow+=1:b.currentRow-=1,b.currentRow===1?(a(e.navL).addClass("disabled"),a(e.navR).removeClass("disabled")):b.totalRows-1===b.currentRow?(a(e.navR).addClass("disabled"),a(e.navL).removeClass("disabled")):(a(e.navR).removeClass("disabled"),a(e.navL).removeClass("disabled"))}},sequpdown:{setup:function(a,b,c){d.updown.setup(a,b,c)},pagination:function(c,d,e){if(d===1&&b.currentRow+e.rows>b.totalRows||d===-1&&b.currentRow-1<=0)return c.data("anim",!1),!1;var f="";for(var g=0;g<=e.rows;++g)d===1?f+=".projects-slider-row_"+(b.currentRow+g)+",":f+=".projects-slider-row_"+(b.currentRow+(g-1))+",";var h=e.type.factor,i,j=1;e.type.reverse&&(j=-1),d===j?i=c.children(f):i=c.children(f).reverse();var k=i.length,l=0;i.each(function(f){var g=a(this),i=g.attr("class"),j={},m=b.currentRow;setTimeout(function(){d===1?i==="projects-slider-row_"+m?j.opacity=0:i==="projects-slider-row_"+(m+e.rows)&&(j.opacity=1):i==="projects-slider-row_"+(m-1)?j.opacity=1:i==="projects-slider-row_"+(m+e.rows-1)&&(j.opacity=0),g.show(),d===1?j.top=g.position().top-g.height()+"px":j.top=g.position().top+g.height()+"px",g.stop().animate(j,e.type.speed,e.type.easing,function(){(parseInt(j.top)<0||parseInt(j.top)>g.height()*(e.rows-1))&&g.hide(),++l,l===k&&c.data("anim",!1)})},h+f*h)}),d===1?b.currentRow+=1:b.currentRow-=1,b.currentRow===1?(a(e.navL).addClass("disabled"),a(e.navR).removeClass("disabled")):b.totalRows-1===b.currentRow?(a(e.navR).addClass("disabled"),a(e.navL).removeClass("disabled")):(a(e.navR).removeClass("disabled"),a(e.navL).removeClass("disabled"))}},showhide:{setup:function(c,d,e){d.each(function(c){var f=a(this),g=Math.ceil((c+1)/b.rowCount),h,i=g%e.rows;i===1?h="0px":i===0?h=(e.rows-1)*d.height()+"px":h=(i-1)*d.height()+"px",f.css({top:h})})},pagination:function(c,d,e){if(d===1&&b.currentRow+e.rows>b.totalRows||d===-1&&b.currentRow-e.rows<=0)return c.data("anim",!1),!1;var f="",g="";for(var h=0;h<e.rows;++h)f+=".projects-slider-row_"+(b.currentRow+h)+",",d===1?g+=".projects-slider-row_"+(b.currentRow+e.rows+h)+",":g+=".projects-slider-row_"+(b.currentRow-1-h)+",";c.children(f).hide(e.type.speed,e.type.easing);var i=c.children(g),j=i.length,k=0;i.show(e.type.speed,e.type.easing,function(){++k,k===j&&c.data("anim",!1)}),d===1?b.currentRow+=e.rows:b.currentRow-=e.rows,b.currentRow===1?(a(e.navL).addClass("disabled"),a(e.navR).removeClass("disabled")):b.totalRows-1===b.currentRow?(a(e.navR).addClass("disabled"),a(e.navL).removeClass("disabled")):(a(e.navR).removeClass("disabled"),a(e.navL).removeClass("disabled"))}},disperse:{setup:function(c,d,e){d.each(function(c){var f=a(this),g=Math.ceil((c+1)/b.rowCount),h,i=g%e.rows;i===1?h="0px":i===0?h=(e.rows-1)*d.height()+"px":h=(i-1)*d.height()+"px",f.css({top:h}).data("top",h)})},pagination:function(c,d,e){if(d===1&&b.currentRow+e.rows>b.totalRows||d===-1&&b.currentRow-e.rows<=0)return c.data("anim",!1),!1;var f="",g="";for(var h=0;h<e.rows;++h)f+=".projects-slider-row_"+(b.currentRow+h)+",",d===1?g+=".projects-slider-row_"+(b.currentRow+e.rows+h)+",":g+=".projects-slider-row_"+(b.currentRow-1-h)+",";c.children(f).each(function(b){var c=a(this);c.stop().animate({left:c.position().left+Math.floor(Math.random()*101)-50+"px",top:c.position().top+Math.floor(Math.random()*101)-50+"px",opacity:0},e.type.speed,e.type.easing,function(){c.css({left:c.data("left"),top:c.data("top")}).hide()})});var i=c.children(g);total_elems=i.length,cnt=0,i.each(function(b){var d=a(this);d.css({left:parseInt(d.data("left"))+Math.floor(Math.random()*301)-150+"px",top:parseInt(d.data("top"))+Math.floor(Math.random()*301)-150+"px",opacity:0}).show().animate({left:d.data("left"),top:d.data("top"),opacity:1},e.type.speed,e.type.easing,function(){++cnt,cnt===total_elems&&c.data("anim",!1)})}),d===1?b.currentRow+=e.rows:b.currentRow-=e.rows,b.currentRow===1?(a(e.navL).addClass("disabled"),a(e.navR).removeClass("disabled")):b.totalRows-1===b.currentRow?(a(e.navR).addClass("disabled"),a(e.navL).removeClass("disabled")):(a(e.navR).removeClass("disabled"),a(e.navL).removeClass("disabled"))}},rows:{setup:function(a,b,c){d.def.setup(a,b,c)},pagination:function(c,d,e){if(d===1&&b.currentRow+e.rows>b.totalRows||d===-1&&b.currentRow-e.rows<=0)return c.data("anim",!1),!1;var f="",g="";for(var h=0;h<e.rows;++h)f+=".projects-slider-row_"+(b.currentRow+h)+",",d===1?g+=".projects-slider-row_"+(b.currentRow+e.rows+h)+",":g+=".projects-slider-row_"+(b.currentRow-1-h)+",";c.children(f).each(function(b){var c=a(this),d=c.attr("class").match(/projects-slider-row_(\d+)/)[1],f;d%2===0?f=e.type.factor:f=-e.type.factor,c.stop().animate({left:c.position().left+f+"px",opacity:0},e.type.speed,e.type.easing,function(){c.css({left:c.data("left")}).hide()})});var i=c.children(g);total_elems=i.length,cnt=0,i.each(function(b){var d=a(this),f=d.attr("class").match(/projects-slider-row_(\d+)/)[1],g;f%2===0?g=e.type.factor:g=-e.type.factor,d.css({left:parseInt(d.data("left"))+g+"px",opacity:0}).show().animate({left:d.data("left"),opacity:1},e.type.speed,e.type.easing,function(){++cnt,cnt===total_elems&&c.data("anim",!1)})}),d===1?b.currentRow+=e.rows:b.currentRow-=e.rows,b.currentRow===1?(a(e.navL).addClass("disabled"),a(e.navR).removeClass("disabled")):b.totalRows-1===b.currentRow?(a(e.navR).addClass("disabled"),a(e.navL).removeClass("disabled")):(a(e.navR).removeClass("disabled"),a(e.navL).removeClass("disabled"))}}},e={init:function(e){if(this.length){var f={rows:2,navL:".projects-slider-prev",navR:".projects-slider-next",type:{mode:"def",speed:500,easing:"jswing",factor:50,reverse:!1,timeout:3e3}};return this.each(function(){e&&a.extend(f,e);var g=a(this).css("visibility","hidden"),h=g.find("ul.projects-slider-gallery"),i=h.children("li"),j=i.length,k=a(f.navL),l=a(f.navR),m=f.type.timeout,n=!1,o=!1;f.type.mode=navigator.appVersion.indexOf("MSIE 7.")==-1?f.type.mode:"seqfade",b.currentRow=1,h.data("anim",!1),k.addClass("disabled");var p=0;i.find("img").each(function(e){var q=a(this);a("<img/>").load(function(){++p;if(p===j){c.setup(h,i,f),g.css("visibility","visible");function e(){if(h.data("anim"))return!1;if(b.totalRows-1===b.currentRow)return o===!1&&(o=!0),h.data("anim",!0),d[f.type.mode].pagination(h,-1,f),!1;if(o===!0)return b.currentRow===1?(o=!1,h.data("anim",!0),d[f.type.mode].pagination(h,1,f)):(h.data("anim",!0),d[f.type.mode].pagination(h,-1,f)),!1;if(o===!1)return h.data("anim",!0),d[f.type.mode].pagination(h,1,f),!1}if(m>0)var q=setInterval(e,m);k.length&&k.bind("click.gridnav",function(a){return n=!0,clearInterval(q),h.data("anim")?!1:(h.data("anim",!0),d[f.type.mode].pagination(h,-1,f),!1)}),l.length&&l.bind("click.gridnav",function(a){return n=!0,clearInterval(q),h.data("anim")?!1:(h.data("anim",!0),d[f.type.mode].pagination(h,1,f),!1)}),h.hover(function(){clearInterval(q)},function(){n!==!0&&m>0&&(q=setInterval(e,3e3))}),a("#single-project").hide(),a("#single-project > div").hide(),a("#projects-slider li a").click(function(b){n=!0,clearInterval(q);var c=a(this).attr("data-project"),d=a("#projects-slider").offset();a("html, body").animate({scrollTop:d.top},300,"easeOutCubic",function(){a('div[data-project="'+c+'"]').show(),a("#single-project").slideDown(400,"easeOutCubic"),a("#projects-slider").slideUp(400)}),b.preventDefault()}),a("#single-project .controls .prev a").click(function(b){a(this).parents("div[data-project]:visible").slideUp(400,"easeOutCubic"),a(this).closest("div[data-project]").prev().slideDown(400,"easeOutCubic"),b.preventDefault()}),a("#single-project .controls .next a").click(function(b){a(this).parents("div[data-project]:visible").slideUp(200,"easeOutCubic"),a(this).closest("div[data-project]").next().slideDown(200,"easeOutCubic"),b.preventDefault()}),a("#single-project .exit").click(function(b){a("#projects-slider").slideDown(400),a("#single-project").slideUp(400,"easeOutCubic"),a("#single-project > div").hide(),b.preventDefault()})}}).attr("src",q.attr("src"))})})}}};a.fn.gridnav=function(b){if(e[b])return e[b].apply(this,Array.prototype.slice.call(arguments,1));if(typeof b=="object"||!b)return e.init.apply(this,arguments);a.error("Method "+b+" does not exist on jQuery.gridnav")}})(jQuery)